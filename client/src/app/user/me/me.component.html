<section class="blog-form-container jumbotron">
  <header>
    <h3>Change password</h3>
    <h4><span>{{model.username}} ({{model.email}})</span></h4>
  </header>
  <form (ngSubmit)="onSubmit()" #passwordForm="ngForm">
      <div class="form-group">
          <label for="password">Password</label>
          <input #password="ngModel" id="password" class="form-control" name="password" type="password" [(ngModel)]="passwordModel.password" required minlength="4" />
          <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
            <div *ngIf="password.errors.required">Password is required.</div>
            <div *ngIf="password.errors.minlength">Password must be at least 4 characters.</div>
          </div>
        </div>
        <div class="form-group">
          <label for="confirmpassword">Confirm Password</label>
          <input #confirmPassword="ngModel" id="confirmpassword" class="form-control" name="confirmpassword" type="password" [(ngModel)]="passwordModel.confirmPassword" required minlength="4" />
          <div *ngIf="(confirmPassword.invalid || password.value !== confirmPassword.value) && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
            <div *ngIf="confirmPassword?.errors?.required">Password is required.</div>
            <div *ngIf="confirmPassword?.errors?.minlength">Password must be at least 4 characters.</div>
            <div *ngIf="password.value !== confirmPassword.value">Confirm password does not match password.</div>
          </div>
        </div>
        <div class="form-group">
          <input type="submit" class="btn btn-success" value="Update passwords" [disabled]="!passwordForm.form.valid || password.value !== confirmPassword.value" />
        </div>
  </form>
</section>
